{"version":3,"file":"pos-cashier-printer.mjs","sources":["../../../projects/pos-cashier-printer/src/lib/builders/PrintBuilder.ts","../../../projects/pos-cashier-printer/src/lib/builders/PrintBuffer.ts","../../../projects/pos-cashier-printer/src/lib/builders/StarPrintBuilder.ts","../../../projects/pos-cashier-printer/src/lib/js/StarWebPrintBuilder.mjs","../../../projects/pos-cashier-printer/src/lib/builders/WebPrintBuilder.ts","../../../projects/pos-cashier-printer/src/lib/builders/EscBuilder.ts","../../../projects/pos-cashier-printer/src/lib/pos-cashier-image-print-manager.service.ts","../../../projects/pos-cashier-printer/src/lib/pos-cashier-printer.service.ts","../../../projects/pos-cashier-printer/src/lib/pos-cashier-printer.component.ts","../../../projects/pos-cashier-printer/src/lib/pos-cashier-printer.module.ts","../../../projects/pos-cashier-printer/src/lib/drivers/PrintDriver.ts","../../../projects/pos-cashier-printer/src/lib/js/StarWebPrintTrader.mjs","../../../projects/pos-cashier-printer/src/lib/drivers/WebPrintDriver.ts","../../../projects/pos-cashier-printer/src/lib/drivers/UsbDriver.ts","../../../projects/pos-cashier-printer/src/lib/drivers/BluetoothLowEnergyDriver.ts","../../../projects/pos-cashier-printer/src/lib/drivers/BluetoothSerialDriver.ts","../../../projects/pos-cashier-printer/src/public-api.ts","../../../projects/pos-cashier-printer/src/pos-cashier-printer.ts"],"sourcesContent":["export abstract class PrintBuilder {\r\n    public abstract init(): any;\r\n    /**\r\n     *\r\n     * @param cutType fill|partial\r\n     */\r\n    public abstract cut(cutType: string): any;\r\n    public abstract flush(): any;\r\n    public abstract feed(lineCount: number): any;\r\n    public abstract setInverse(value: boolean): any;\r\n    public abstract setBold(value: boolean): any;\r\n    /**\r\n     *\r\n     * @param value left\\center\\right\r\n     */\r\n    public abstract setJustification(value: string): any;\r\n    /**\r\n     *\r\n     * @param value normal\\large\r\n     */\r\n    public abstract setSize(value: string): any;\r\n    public abstract setUnderline(value: boolean): any;\r\n    public abstract writeLine(text: string): any;\r\n}","// Hat-tip to HÃ¥vard Lian @ https://github.com/haavardlian/escpos\r\nexport class PrintBuffer {\r\n    private buffer: Uint8Array;\r\n    private size: number;\r\n\r\n    constructor(size: number = 1024) {\r\n        this.buffer = new Uint8Array(size);\r\n        this.size = 0;\r\n    }\r\n\r\n    clear(): void {\r\n        this.size = 0;\r\n    }\r\n\r\n    flush(): Uint8Array {\r\n        const buffer = new Uint8Array(this.buffer.slice(0, this.size));\r\n        this.size = 0;\r\n        return buffer;\r\n    }\r\n\r\n    write(data: ArrayLike<number>): PrintBuffer {\r\n        this.resize(data.length);\r\n        this.buffer.set(data, this.size);\r\n        this.size += data.length;\r\n        return this;\r\n    }\r\n\r\n\r\n    writeUInt8(value: number): PrintBuffer {\r\n        this.resize(1);\r\n        this.buffer[this.size++] = value & 0xFF;\r\n        return this;\r\n    }\r\n\r\n    private resize(need: number): void {\r\n        const remaining = this.buffer.length - this.size;\r\n        if (remaining < need) {\r\n            const oldBuffer = this.buffer;\r\n            const factor = Math.ceil((need - remaining) / oldBuffer.length) + 1;\r\n            this.buffer = new Uint8Array(oldBuffer.length * factor);\r\n            this.buffer.set(oldBuffer, 0);\r\n        }\r\n    }\r\n}","import { PrintBuilder } from './PrintBuilder';\r\nimport { PrintBuffer } from \"./PrintBuffer\";\r\ndeclare var TextEncoder: any;\r\n\r\nconst ESC = 0x1b;\r\nconst GS = 0x1D;\r\n\r\nexport class StarPrintBuilder extends PrintBuilder {\r\n    private encoder = new TextEncoder();\r\n    private buffer!: PrintBuffer;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    init(): StarPrintBuilder {\r\n        this.buffer = new PrintBuffer();\r\n        this.write(ESC);\r\n        this.write(\"@\");\r\n        return this;\r\n    }\r\n\r\n    flush(): Uint8Array {\r\n        return this.buffer.flush();\r\n    }\r\n\r\n    feed(lineCount: number = 1): StarPrintBuilder {\r\n        this.write(ESC);\r\n        this.write(\"a\");\r\n        this.write(lineCount);\r\n\r\n        return this;\r\n    }\r\n\r\n    cut(cutType: string = 'full'): StarPrintBuilder {\r\n        this.write(ESC);\r\n        this.write(\"d\");\r\n        this.write(cutType === 'full' ? 2 : 3);\r\n\r\n        return this;\r\n    }\r\n\r\n    writeLine(value: string): StarPrintBuilder {\r\n        return this.write(`${value}\\n`);\r\n    }\r\n\r\n    setInverse(inverse: boolean = true): StarPrintBuilder {\r\n        this.write(ESC);\r\n        (inverse) ? this.write(\"4\") : this.write(\"5\");\r\n\r\n        return this;\r\n    }\r\n\r\n    setUnderline(underline: boolean = true): StarPrintBuilder {\r\n        this.write(ESC);\r\n        this.write(\"-\");\r\n        this.write(underline ? 1 : 0);\r\n        return this;\r\n    }\r\n\r\n    setJustification(value: string): StarPrintBuilder {\r\n        let alignment;\r\n        switch (value) {\r\n            case \"center\":\r\n                alignment = 1\r\n                break;\r\n            case \"right\":\r\n                alignment = 2;\r\n                break;\r\n            default:\r\n                alignment = 0;\r\n                break;\r\n        }\r\n\r\n        this.write(ESC);\r\n        this.write(GS);\r\n        this.write(\"a\");\r\n        this.write(alignment);\r\n\r\n        return this;\r\n    }\r\n\r\n    setBold(bold: boolean = true): StarPrintBuilder {\r\n        this.write(ESC);\r\n        (bold) ? this.write(\"E\") : this.write(\"F\");\r\n\r\n        return this;\r\n    }\r\n\r\n    setSize(size: string): StarPrintBuilder {\r\n        this.write(ESC);\r\n        this.write(\"i\");\r\n        this.write((size === 'normal') ? 0 : 1);\r\n        this.write((size === 'normal') ? 0 : 1);\r\n\r\n        return this;\r\n    }\r\n\r\n    private write(value: string | Uint8Array | number): any {\r\n        if (typeof value === \"number\") {\r\n            this.buffer.writeUInt8(value);\r\n        } else if (typeof value === \"string\") {\r\n            this.buffer.write(this.encoder.encode(value));\r\n        } else {\r\n            this.buffer.write(value);\r\n        }\r\n        return this;\r\n    }\r\n}","//\r\n// StarWebPrintBuilder API\r\n//\r\n// Version 1.1.0\r\n//\r\n// Copyright 2012 STAR MICRONICS CO., LTD. All Rights Reserved.\r\n//\r\n\r\nvar StarWebPrintBuilder = function () {};\r\nStarWebPrintBuilder.prototype.createAlignmentElement = function (b) {\r\n  var a = \"<alignment\";\r\n  void 0 != b &&\r\n    (a += this._analysisEnumAttribute(\r\n      \"position\",\r\n      b.position,\r\n      /^(left|center|right)$/\r\n    ));\r\n  return a + \"/>\";\r\n};\r\nStarWebPrintBuilder.prototype.createBarcodeElement = function (b) {\r\n  var a;\r\n  if (void 0 != b) {\r\n    a =\r\n      \"<barcode\" +\r\n      this._analysisEnumAttribute(\r\n        \"symbology\",\r\n        b.symbology,\r\n        /^(UPCE|UPCA|JAN8|JAN13|Code39|ITF|Code128|Code93|NW7)$/\r\n      );\r\n    a += this._analysisEnumAttribute(\r\n      \"width\",\r\n      b.width,\r\n      /^(width[2-4]|width_mode[1-9])$/\r\n    );\r\n    a += this._analysisEnumAttribute(\"hri\", b.hri, /^(false|true)$/);\r\n    a += this._analysisValueAttribute(\"height\", b.height, 1, 255);\r\n    if (void 0 == b.data) throw Error('Argument \"data\" is undefined.');\r\n    a = a + \">\" + this._encodeEscapeSequenceBinary(b.data);\r\n  } else throw Error(\"Argument is undefined.\");\r\n  return (a += \"</barcode>\");\r\n};\r\nStarWebPrintBuilder.prototype.createBitImageElement = function (b) {\r\n  var a = \"<bitimage\";\r\n  if (void 0 != b) {\r\n    var d = 0,\r\n      e = 0,\r\n      c = 0,\r\n      f = 0;\r\n    void 0 != b.x && (d = b.x);\r\n    void 0 != b.y && (e = b.y);\r\n    void 0 != b.width && (c = b.width);\r\n    void 0 != b.height && (f = b.height);\r\n    this._analysisValueAttribute(\"x\", d, 0, 65535);\r\n    this._analysisValueAttribute(\"y\", e, 0, 65535);\r\n    a += this._analysisValueAttribute(\"width\", c, 0, 65535);\r\n    a += this._analysisValueAttribute(\"height\", f, 0, 65535);\r\n    if (void 0 == b.context) throw Error('Argument \"context\" is undefined.');\r\n    a =\r\n      a +\r\n      \">\" +\r\n      this._encodeRasterImage(b.context.getImageData(d, e, c, f).data, c, f);\r\n  } else throw Error(\"Argument is undefined.\");\r\n  return (a += \"</bitimage>\");\r\n};\r\nStarWebPrintBuilder.prototype.createCutPaperElement = function (b) {\r\n  var a = \"<cutpaper\";\r\n  void 0 != b &&\r\n    ((a += this._analysisEnumAttribute(\"feed\", b.feed, /^(false|true)$/)),\r\n    (a += this._analysisEnumAttribute(\"type\", b.type, /^(full|partial)$/)));\r\n  return a + \"/>\";\r\n};\r\nStarWebPrintBuilder.prototype.createFeedElement = function (b) {\r\n  var a;\r\n  if (void 0 != b)\r\n    if (void 0 != b.line || void 0 != b.unit)\r\n      (a = \"<feed\" + this._analysisValueAttribute(\"line\", b.line, 1, 255)),\r\n        (a += this._analysisValueAttribute(\"unit\", b.unit, 1, 255));\r\n    else throw Error('Argument \"line / unit\" is undefined.');\r\n  else throw Error(\"Argument is undefined.\");\r\n  return a + \"/>\";\r\n};\r\nStarWebPrintBuilder.prototype.createInitializationElement = function (b) {\r\n  var a = \"<initialization\";\r\n  void 0 != b &&\r\n    ((a += this._analysisEnumAttribute(\"reset\", b.reset, /^(false|true)$/)),\r\n    (a += this._analysisEnumAttribute(\"print\", b.print, /^(false|true)$/)));\r\n  return a + \"/>\";\r\n};\r\nStarWebPrintBuilder.prototype.createLogoElement = function (b) {\r\n  var a = \"<logo\";\r\n  void 0 != b &&\r\n    ((a += this._analysisEnumAttribute(\"width\", b.width, /^(single|double)$/)),\r\n    (a += this._analysisEnumAttribute(\"height\", b.height, /^(single|double)$/)),\r\n    (a += this._analysisValueAttribute(\"number\", b.number, 1, 255)));\r\n  return a + \"/>\";\r\n};\r\nStarWebPrintBuilder.prototype.createPdf417Element = function (b) {\r\n  var a;\r\n  if (void 0 != b) {\r\n    a =\r\n      \"<pdf417\" +\r\n      this._analysisEnumAttribute(\"level\", b.level, /^(level[0-8])$/);\r\n    void 0 != b.line &&\r\n      (a =\r\n        0 != b.line\r\n          ? a + this._analysisValueAttribute(\"line\", b.line, 3, 90)\r\n          : a + ' line=\"0\"');\r\n    a += this._analysisValueAttribute(\"column\", b.column, 0, 30);\r\n    a += this._analysisValueAttribute(\"module\", b.module, 1, 8);\r\n    a += this._analysisValueAttribute(\"aspect\", b.aspect, 1, 8);\r\n    if (void 0 == b.data) throw Error('Argument \"data\" is undefined.');\r\n    a = a + \">\" + this._encodeEscapeSequenceBinary(b.data);\r\n  } else throw Error(\"Argument is undefined.\");\r\n  return (a += \"</pdf417>\");\r\n};\r\nStarWebPrintBuilder.prototype.createPeripheralElement = function (b) {\r\n  var a = \"<peripheral\";\r\n  void 0 != b &&\r\n    ((a += this._analysisValueAttribute(\"channel\", b.channel, 1, 2)),\r\n    (a += this._analysisValueAttribute(\"on\", b.on, 1, 65535)),\r\n    (a += this._analysisValueAttribute(\"off\", b.off, 1, 65535)));\r\n  return a + \"/>\";\r\n};\r\nStarWebPrintBuilder.prototype.createQrCodeElement = function (b) {\r\n  var a;\r\n  if (void 0 != b) {\r\n    a =\r\n      \"<qrcode\" +\r\n      this._analysisEnumAttribute(\"model\", b.model, /^(model[12])$/);\r\n    a += this._analysisEnumAttribute(\"level\", b.level, /^(level_[lmqh])$/);\r\n    a += this._analysisValueAttribute(\"cell\", b.cell, 1, 8);\r\n    if (void 0 == b.data) throw Error('Argument \"data\" is undefined.');\r\n    a = a + \">\" + this._encodeEscapeSequenceBinary(b.data);\r\n  } else throw Error(\"Argument is undefined.\");\r\n  return (a += \"</qrcode>\");\r\n};\r\nStarWebPrintBuilder.prototype.createRawDataElement = function (b) {\r\n  if (void 0 != b) {\r\n    if (void 0 == b.data) throw Error('Argument \"data\" is undefined.');\r\n    b = \"<rawdata>\" + this._encodeBase64Binary(b.data);\r\n  } else throw Error(\"Argument is undefined.\");\r\n  return b + \"</rawdata>\";\r\n};\r\nStarWebPrintBuilder.prototype.createRuledLineElement = function (b) {\r\n  var a = \"<ruledline\";\r\n  void 0 != b &&\r\n    ((a += this._analysisEnumAttribute(\r\n      \"thickness\",\r\n      b.thickness,\r\n      /^(thin|medium|thick|double_(thin|medium|thick))$/\r\n    )),\r\n    (a += this._analysisValueAttribute(\"width\", b.width, 1, 65535)));\r\n  return a + \"/>\";\r\n};\r\nStarWebPrintBuilder.prototype.createSoundElement = function (b) {\r\n  var a = \"<sound\";\r\n  void 0 != b &&\r\n    ((a += this._analysisValueAttribute(\"channel\", b.channel, 1, 2)),\r\n    (a += this._analysisValueAttribute(\"repeat\", b.repeat, 1, 20)));\r\n  return a + \"/>\";\r\n};\r\nStarWebPrintBuilder.prototype.createTextElement = function (b) {\r\n  var a;\r\n  if (void 0 != b)\r\n    (a =\r\n      \"<text\" +\r\n      this._analysisEnumAttribute(\"emphasis\", b.emphasis, /^(false|true)$/)),\r\n      (a += this._analysisEnumAttribute(\"invert\", b.invert, /^(false|true)$/)),\r\n      (a += this._analysisEnumAttribute(\"linespace\", b.linespace, /^(24|32)$/)),\r\n      (a += this._analysisEnumAttribute(\"font\", b.font, /^(font_[ab])$/)),\r\n      (a += this._analysisEnumAttribute(\r\n        \"underline\",\r\n        b.underline,\r\n        /^(false|true)$/\r\n      )),\r\n      (a += this._analysisValueAttribute(\r\n        \"characterspace\",\r\n        b.characterspace,\r\n        0,\r\n        7\r\n      )),\r\n      (a += this._analysisValueAttribute(\"width\", b.width, 1, 6)),\r\n      (a += this._analysisValueAttribute(\"height\", b.height, 1, 6)),\r\n      (a += this._analysisEnumAttribute(\r\n        \"codepage\",\r\n        b.codepage,\r\n        /^(cp(437|737|772|774|851|852|855|857|858|860|861|862|863|864|865|866|869|874|928|932|998|999|1001|1250|1251|1252|2001|3001|3002|3011|3012|3021|3041|3840|3841|3843|3844|3845|3846|3847|3848)|utf8|blank|utf8|shift_jis|gb18030|gb2312|big5|korea)$/\r\n      )),\r\n      (a += this._analysisEnumAttribute(\r\n        \"international\",\r\n        b.international,\r\n        /^(usa|france|germany|uk|denmark|sweden|italy|spain|japan|norway|denmark2|spain2|latin_america|korea|ireland|legal)$/\r\n      )),\r\n      void 0 != b.data\r\n        ? ((a += \">\"),\r\n          (a =\r\n            !0 == b.binary\r\n              ? a + this._encodeEscapeSequenceBinary(b.data)\r\n              : a + this._encodeEscapeSequence(b.data)),\r\n          (a += \"</text>\"))\r\n        : (a += \"/>\");\r\n  else throw Error(\"Argument is undefined.\");\r\n  return a;\r\n};\r\nStarWebPrintBuilder.prototype.createHoldPrintElement = function (b) {\r\n  var a = \"<holdprint\";\r\n  void 0 != b &&\r\n    (a += this._analysisEnumAttribute(\r\n      \"type\",\r\n      b.type,\r\n      /^(valid|invalid|default)$/\r\n    ));\r\n  return a + \"/>\";\r\n};\r\nStarWebPrintBuilder.prototype._analysisEnumAttribute = function (b, a, d) {\r\n  if (void 0 != a) {\r\n    if (!d.test(a)) throw Error('Argument \"' + b + '\" is invalid.');\r\n    return \" \" + b + '=\"' + a + '\"';\r\n  }\r\n  return \"\";\r\n};\r\nStarWebPrintBuilder.prototype._analysisValueAttribute = function (b, a, d, e) {\r\n  if (void 0 != a) {\r\n    if (a < d || a > e) throw Error('Argument \"' + b + '\" is invalid.');\r\n    return \" \" + b + '=\"' + a + '\"';\r\n  }\r\n  return \"\";\r\n};\r\nStarWebPrintBuilder.prototype._encodeEscapeSequence = function (b) {\r\n  var a = /[\\\\\\x00-\\x20\\x26\\x3c\\x3e\\x7f]/g;\r\n  a.test(b) &&\r\n    (b = b.replace(a, function (a) {\r\n      return \"\\\\\" == a\r\n        ? \"\\\\\\\\\"\r\n        : \"\\\\x\" + (\"0\" + a.charCodeAt(0).toString(16)).slice(-2);\r\n    }));\r\n  return b;\r\n};\r\nStarWebPrintBuilder.prototype._encodeEscapeSequenceBinary = function (b) {\r\n  var a = /[\\\\\\x00-\\x20\\x26\\x3c\\x3e\\x7f-\\xff]/g;\r\n  a.test(b) &&\r\n    (b = b.replace(a, function (a) {\r\n      return \"\\\\\" == a\r\n        ? \"\\\\\\\\\"\r\n        : \"\\\\x\" + (\"0\" + a.charCodeAt(0).toString(16)).slice(-2);\r\n    }));\r\n  return b;\r\n};\r\nStarWebPrintBuilder.prototype._encodeBase64Binary = function (b) {\r\n  var a = \"\",\r\n    d = b.length;\r\n  b += \"\\x00\\x00\";\r\n  for (var e = 0; e < d; e += 3)\r\n    var c =\r\n        (b.charCodeAt(e) << 16) |\r\n        (b.charCodeAt(e + 1) << 8) |\r\n        b.charCodeAt(e + 2),\r\n      a =\r\n        a +\r\n        (\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(\r\n          (c >> 18) & 63\r\n        ) +\r\n          \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(\r\n            (c >> 12) & 63\r\n          ) +\r\n          \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(\r\n            (c >> 6) & 63\r\n          ) +\r\n          \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(\r\n            c & 63\r\n          ));\r\n  switch (d % 3) {\r\n    case 1:\r\n      return a.slice(0, -2) + \"==\";\r\n    case 2:\r\n      return a.slice(0, -1) + \"=\";\r\n  }\r\n  return a;\r\n};\r\nStarWebPrintBuilder.prototype._encodeRasterImage = function (b, a, d) {\r\n  for (\r\n    var e = [\r\n        [-254, -126, -222, -94, -246, -118, -214, -86],\r\n        [-62, -190, -30, -158, -54, -182, -22, -150],\r\n        [-206, -78, -238, -110, -198, -70, -230, -102],\r\n        [-14, -142, -46, -174, -6, -134, -38, -166],\r\n        [-242, -114, -210, -82, -250, -122, -218, -90],\r\n        [-50, -178, -18, -146, -58, -186, -26, -154],\r\n        [-194, -66, -226, -98, -202, -74, -234, -106],\r\n        [-2, -130, -34, -162, -10, -138, -42, -170],\r\n      ],\r\n      c = \"\",\r\n      f = 0,\r\n      g = 0;\r\n    g < d;\r\n    g++\r\n  ) {\r\n    for (var h = 0, k = 128, l = 0; l < a; l++)\r\n      if (\r\n        (((30 * b[f] + 59 * b[f + 1] + 11 * b[f + 2]) * b[f + 3] + 12800) /\r\n          25500 -\r\n          b[f + 3] <\r\n          e[g & 7][l & 7] && (h |= k),\r\n        (f += 4),\r\n        0 == (k >>= 1))\r\n      )\r\n        (c += String.fromCharCode(h)), (h = 0), (k = 128);\r\n    128 != k && (c += String.fromCharCode(h));\r\n  }\r\n  b = c;\r\n  c = \"\";\r\n  a = b.length;\r\n  b += \"\\x00\\x00\";\r\n  for (g = 0; g < a; g += 3)\r\n    (d =\r\n      (b.charCodeAt(g) << 16) |\r\n      (b.charCodeAt(g + 1) << 8) |\r\n      b.charCodeAt(g + 2)),\r\n      (c +=\r\n        \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(\r\n          (d >> 18) & 63\r\n        ) +\r\n        \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(\r\n          (d >> 12) & 63\r\n        ) +\r\n        \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(\r\n          (d >> 6) & 63\r\n        ) +\r\n        \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(\r\n          d & 63\r\n        ));\r\n  switch (a % 3) {\r\n    case 1:\r\n      return c.slice(0, -2) + \"==\";\r\n    case 2:\r\n      return c.slice(0, -1) + \"=\";\r\n  }\r\n  return c;\r\n};\r\n\r\nexport { StarWebPrintBuilder };","import { PrintBuilder } from './PrintBuilder';\r\n// @ts-ignore\r\nimport { StarWebPrintBuilder } from '../js/StarWebPrintBuilder.mjs';\r\n\r\nexport class WebPrintBuilder extends PrintBuilder {\r\n    private builder: any = new StarWebPrintBuilder();\r\n    private request!: string;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    public init(): WebPrintBuilder {\r\n        this.request += this.builder.createInitializationElement();\r\n        return this;\r\n    }\r\n\r\n    public setJustification(value: string = 'left'): WebPrintBuilder {\r\n        this.request += this.builder.createAlignmentElement({ position: value });\r\n        return this;\r\n    }\r\n\r\n    public setBold(value: boolean = true): WebPrintBuilder {\r\n        this.request += this.builder.createTextElement({ emphasis: value });\r\n        return this;\r\n    }\r\n\r\n    public setUnderline(value: boolean = true): WebPrintBuilder {\r\n        this.request += this.builder.createTextElement({ underline: value });\r\n        return this;\r\n    }\r\n\r\n    public setInverse(value: boolean = true): WebPrintBuilder {\r\n        this.request += this.builder.createTextElement({ invert: value });\r\n        return this;\r\n    }\r\n\r\n    public writeLine(value: string): WebPrintBuilder {\r\n        this.request += this.builder.createTextElement({ data: `${value}\\n` });\r\n        return this;\r\n    }\r\n\r\n    public setSize(size: string = 'normal'): WebPrintBuilder {\r\n        let fontSize;\r\n        switch (size) {\r\n            case 'large':\r\n                fontSize = 2;\r\n                break;\r\n            default:\r\n                fontSize = 1;\r\n                break;\r\n        }\r\n        this.request += this.builder.createTextElement({ width: fontSize, height: fontSize });\r\n        return this;\r\n    }\r\n\r\n    public cut(type: string = 'full'): WebPrintBuilder {\r\n        this.request += this.builder.createCutPaperElement({ feed: true, type: type });\r\n        return this;\r\n    }\r\n\r\n    public feed(lines: number = 1): WebPrintBuilder {\r\n        this.request += this.builder.createFeedElement({ line: lines });\r\n        return this;\r\n    }\r\n\r\n    public flush(): string {\r\n        return this.request;\r\n    }\r\n}","import { PrintBuilder } from './PrintBuilder';\r\nimport { PrintBuffer } from \"./PrintBuffer\";\r\ndeclare var TextEncoder: any;\r\n\r\nconst ESC = 0x1b;\r\nconst GS = 0x1D;\r\n\r\nexport class EscBuilder extends PrintBuilder {\r\n    private encoder = new TextEncoder();\r\n    private buffer!: PrintBuffer;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    init(): EscBuilder {\r\n        this.buffer = new PrintBuffer();\r\n        this.write(ESC);\r\n        this.write(\"@\");\r\n        return this;\r\n    }\r\n\r\n    flush(): Uint8Array {\r\n        return this.buffer.flush();\r\n    }\r\n\r\n    feed(lineCount: number = 1): EscBuilder {\r\n        this.write(ESC);\r\n        this.write(\"d\");\r\n        this.write(lineCount);\r\n        return this;\r\n    }\r\n\r\n    cut(cutType: string = 'full'): EscBuilder {\r\n        this.write(GS);\r\n        this.write(\"V\");\r\n        this.write(cutType === 'full' ? 1 : 0);\r\n\r\n        return this;\r\n    }\r\n\r\n    writeLine(value: string): EscBuilder {\r\n        return this.write(`${value}\\n`);\r\n    }\r\n\r\n    setInverse(inverse: boolean = true): EscBuilder {\r\n        this.write(GS);\r\n        this.write(\"B\");\r\n        this.write(inverse ? 1 : 0);\r\n\r\n        return this;\r\n    }\r\n\r\n    setUnderline(value: boolean = true): EscBuilder {\r\n        this.write(ESC);\r\n        this.write(\"-\");\r\n        this.write(value ? 1 : 0);\r\n        return this;\r\n    }\r\n\r\n    setJustification(value: string = 'left'): EscBuilder {\r\n        let alignment;\r\n        switch (value) {\r\n            case \"center\":\r\n                alignment = 1\r\n                break;\r\n            case \"right\":\r\n                alignment = 2;\r\n                break;\r\n            default:\r\n                alignment = 0;\r\n                break;\r\n        }\r\n        this.write(ESC);\r\n        this.write(\"a\");\r\n        this.write(alignment);\r\n\r\n        return this;\r\n    }\r\n\r\n    setBold(bold: boolean = true): EscBuilder {\r\n        this.write(ESC);\r\n        this.write(\"E\");\r\n        this.write(bold ? 1 : 0);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n    @param mode 0, 0x30\r\n    */\r\n    setSize(size: string = 'normal'): EscBuilder {\r\n        this.write(ESC);\r\n        this.write(\"!\");\r\n        this.write((size === 'normal') ? 0 : 0x30);\r\n\r\n        return this;\r\n    }\r\n\r\n    private write(value: string | Uint8Array | number): any {\r\n        if (typeof value === \"number\") {\r\n            this.buffer.writeUInt8(value);\r\n        } else if (typeof value === \"string\") {\r\n            this.buffer.write(this.encoder.encode(value));\r\n        } else {\r\n            this.buffer.write(value);\r\n        }\r\n        return this;\r\n    }\r\n}","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PosCashierImagePrintManagerService {\n  private imageData: ImageData | undefined;\n  private invertColors: boolean = true;\n  private ESC_INIT = [0x1b, 0x40];\n  private ESC_BIT_IMAGE = [0x1b, 0x2a]\n  private DOTS_DENSITY = 24\n  private LUMINANCE = {\n      RED: 0.299,\n      GREEN: 0.587,\n      BLUE: 0.114\n  }\n  private LINE_FEED = 0x0a;\n  // https://www.sparkag.com.br/wp-content/uploads/2016/06/ESC_POS-AK912-English-Command-Specifications-V1.4.pdf\n  private LINE_FEED_AMOUNT = [0x1b, 0x33, 0x18]; // the third parameter is a numeric value where 1 = 0.125mm\n  private LINE_FEED_DEFAULT = [0x1b, 0x32];\n  // the best print quality is achieved when width and height are both multiples of 8\n  constructor() {\n    \n  }\n  init(image: HTMLImageElement, invertColors: boolean, width?: number, height?: number){\n    const canvas = document.createElement('canvas');\n    canvas.width = width ?? image.width;\n    canvas.height = height ?? image.height;\n    const context = canvas.getContext('2d');\n\n    if (!context) {\n      throw new Error('Could not get 2D context for canvas');\n    }\n\n    context.drawImage(image, 0, 0, canvas.width, canvas.height);\n    this.imageData = context.getImageData(0, 0, canvas.width, canvas.height);\n    this.invertColors = invertColors;\n  }\n  private calculateLuminance(pixel: number[]): number {\n    let lum = this.LUMINANCE.RED * pixel[0] + this.LUMINANCE.GREEN * pixel[1] + this.LUMINANCE.BLUE * pixel[2];\n\n    return this.invertColors ? 255 - lum : lum;\n  }\n  private calculateSlice(x: number, y: number): number {\n    const threshold = 127;\n    let slice = 0;\n    \n    for (let bit = 0; bit < 8; bit++) {\n        if ((y + bit) >= this.imageData!.height)\n            continue;\n\n        const index = (this.imageData!.width * (y + bit) + x) * 4;\n        const pixel = [\n          this.imageData!.data[index],\n          this.imageData!.data[index + 1],\n          this.imageData!.data[index + 2]\n        ];\n\n        const luminance = this.calculateLuminance(pixel);\n\n        slice |= (luminance < threshold ? 1 : 0) << 7 - bit;\n    }\n\n    return slice;\n  }\n  private collectStripe(x: number, y: number): number[] {\n    let slices = [];\n    let z = y + this.DOTS_DENSITY;\n\n    let i = 0\n    while (y < z && i < 3){\n      slices.push(this.calculateSlice(x, y));\n\n      y += 8\n    }\n\n    return slices;\n  }\n  private manipulateImage(): number[] {\n    let data = [];\n    const imageWidth = this.imageData!.width;\n\n    for (let y = 0; y < this.imageData!.height; y += this.DOTS_DENSITY){\n        data.push(...this.ESC_BIT_IMAGE, 33, (0x00ff & imageWidth), (0xff00 & imageWidth) >> 8);\n\n        for (let x = 0; x < imageWidth; x++) {\n            data.push(...this.collectStripe(x, y));\n        }\n\n        data.push(this.LINE_FEED);\n    }\n\n    return data;\n  }\n  public getUint8Array(): Uint8Array {\n    let transformedImage = [];\n\n    transformedImage.push(...this.LINE_FEED_AMOUNT);\n    transformedImage.push(...this.manipulateImage());\n    transformedImage.push(...this.LINE_FEED_DEFAULT);\n    return new Uint8Array(transformedImage);\n  }\n  public resetImage(): void{\n    this.imageData = undefined;\n  }\n}\n","import { Injectable, inject } from '@angular/core';\nimport { StarPrintBuilder } from './builders/StarPrintBuilder';\nimport { WebPrintBuilder } from './builders/WebPrintBuilder';\nimport { PrintBuilder } from './builders/PrintBuilder';\nimport { BehaviorSubject } from 'rxjs';\nimport { PrintDriver } from './drivers/PrintDriver';\nimport { EscBuilder } from './builders/EscBuilder';\nimport { PosCashierImagePrintManagerService } from './pos-cashier-image-print-manager.service';\nimport EscPosEncoder from 'esc-pos-encoder';\n\ntype symbologyType = 'upca' | 'upce' | 'ean13' | 'ean8' | 'coda39' | 'itf' | 'codabar';\n\ntype qrSizeType = 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8;\ntype qrErrorLevelType = 'l' | 'm' | 'q' | 'h';\ntype alignType = 'left' | 'center' | 'right';\ntype verticalAlignType = 'top' | 'bottom';\ntype styleType = 'single' | 'double';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class PosCashierPrinterService extends PrintBuilder{\n\n  public printLanguage!: string;\n  public driver!: PrintDriver;\n  public isConnected: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n  public builder!: PrintBuilder;\n  private _imagePrintingService = inject(PosCashierImagePrintManagerService);\n  private readonly _escEncoder = new EscPosEncoder();\n  constructor() {\n    super();\n  }\n\n  /**\n   *\n   * @param driver UsbDriver | WebPrintDriver\n   * @param printLanguage ESC/POS | StarPRNT | WebPRNT\n   */\n  setDriver(driver: PrintDriver, printLanguage: string = 'ESC/POS'): PosCashierPrinterService {\n    this.driver = driver;\n    this.printLanguage = printLanguage;\n    this.driver.connect();\n\n    this.driver.isConnected.subscribe(result => {\n      this.isConnected.next(result);\n    });\n\n    return this;\n  }\n\n  /**\n   * Initialize a new print queue\n   */\n  init(): PosCashierPrinterService {\n    if (!this.driver) {\n      throw \"Cannot initiate the print service.  No connection detected.\";\n    }\n\n    switch (this.printLanguage) {\n      case 'WebPRNT':\n        this.builder = new WebPrintBuilder();\n        break;\n      case 'StarPRNT':\n        this.builder = new StarPrintBuilder();\n        break;\n      default:\n        this.builder = new EscBuilder();\n        break;\n    }\n\n    this.builder.init();\n    return this;\n  }\n\n  /**\n   *\n   * @param cutType full|partial\n   */\n  public cut(cutType: string = 'full'): PosCashierPrinterService {\n    this.builder.cut(cutType);\n    return this;\n  }\n\n  /**\n   *\n   * @param lineCount How many lines to feed\n   */\n  public feed(lineCount: number = 1): PosCashierPrinterService {\n    this.builder.feed(lineCount);\n    return this;\n  }\n\n  setInverse(value: boolean = true): PosCashierPrinterService {\n    this.builder.setInverse(value);\n    return this;\n\n  }\n\n  setBold(value: boolean = true): PosCashierPrinterService {\n    this.builder.setBold(value);\n    return this;\n\n  }\n\n  setUnderline(value: boolean = true): PosCashierPrinterService {\n    this.builder.setUnderline(value);\n    return this;\n\n  }\n\n  drawImage(path_image: string, invertColors: boolean, width?: number, height?: number): PosCashierPrinterService{\n    const logo = new Image();\n    logo.src = path_image;\n    logo.onload = () => {\n      this._imagePrintingService.init(logo, invertColors, width, height);\n      this._escEncoder.raw(this._imagePrintingService.getUint8Array());\n      this._imagePrintingService.resetImage();\n      this.driver.write(this._escEncoder.encode());\n    }\n    return this;\n  }\n\n  drawQRCode(text: string, model?: 1 | 2, size?: qrSizeType, errorLevel?: qrErrorLevelType): PosCashierPrinterService {\n    this._escEncoder.qrcode(text, model, size, errorLevel);\n    this.driver.write(this._escEncoder.encode());\n    return this;\n  }\n  /**\n   * This refers to https://github.com/NielsLeenheer/EscPosEncoder#barcode\n   * @param text \n   * @param model \n   * @param height \n   * @returns \n   */\n  drawBarcode(text: string, model: symbologyType, height: number): PosCashierPrinterService{\n    this._escEncoder.barcode(text, model, height);\n    this.driver.write(this._escEncoder.encode());\n    return this;\n  }\n  drawTextInBox(text: string, options: {\n      marginLeft?: number;\n      marginRight?: number;\n      paddingLeft?: number;\n      paddingRight?: number;\n      style?: styleType;\n      width?: number;\n  }): PosCashierPrinterService{\n    this._escEncoder.box(options, text);\n    this.driver.write(this._escEncoder.encode());\n    return this;\n  }\n\n\n  drawTable(columns: ReadonlyArray<{\n            align?: alignType;\n            marginLeft?: number;\n            marginRight?: number;\n            verticalAlign?: verticalAlignType;\n            width?: number;\n        }>,\n        data: ReadonlyArray<ReadonlyArray<string>>\n  ): PosCashierPrinterService{\n    this._escEncoder.table(columns, data);\n    this.driver.write(this._escEncoder.encode());\n    return this;\n  }\n\n  /**\n   *\n   * @param value left|center\\right\n   */\n  setJustification(value: string = 'left'): PosCashierPrinterService {\n    this.builder.setJustification(value);\n    return this;\n  }\n\n  /**\n   *\n   * @param value normal|large\n   */\n  setSize(value: string = 'normal'): PosCashierPrinterService {\n    this.builder.setSize(value);\n    return this;\n  }\n\n  /**\n   *\n   * @param text\n   */\n  writeLine(text: string = ''): PosCashierPrinterService {\n    this.builder.writeLine(text);\n    return this;\n  }\n\n  /**\n   * write the current builder value to the driver and clear out the builder\n   */\n  flush() {\n    this.driver.write(this.builder.flush());\n  }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'st-pos-cashier-printer',\n  template: `\n    <p>\n      pos-cashier-printer works!\n    </p>\n  `,\n  styles: [\n  ]\n})\nexport class PosCashierPrinterComponent {\n\n}\n","import { NgModule } from '@angular/core';\nimport { PosCashierPrinterComponent } from './pos-cashier-printer.component';\n\n\n\n@NgModule({\n  declarations: [\n    PosCashierPrinterComponent\n  ],\n  imports: [\n  ],\n  exports: [\n    PosCashierPrinterComponent\n  ]\n})\nexport class PosCashierPrinterModule { }\n","import { BehaviorSubject } from 'rxjs';\r\nexport abstract class PrintDriver {\r\n    public abstract isConnected: BehaviorSubject<boolean>;\r\n    public abstract connect(): void;\r\n    public abstract write(data: any): void;\r\n}","//\r\n// StarWebPrintTrader API\r\n//\r\n// Version 1.1.0\r\n//\r\n// Copyright 2012 STAR MICRONICS CO., LTD. All Rights Reserved.\r\n//\r\n/**\r\n * @type Class\r\n */\r\nvar StarWebPrintTrader = function (a) {\r\n    this.papertype = this.checkedblock = this.url = null;\r\n    this.timeout = 9e4;\r\n    this.onTimeout = this.onError = this.onReceive = null;\r\n    this.holdprint_timeout = void 0;\r\n    this._json = this._url = null;\r\n    void 0 != a &&\r\n      (void 0 != a.url && (this.url = a.url),\r\n      void 0 != a.checkedblock && (this.checkedblock = a.checkedblock),\r\n      void 0 != a.papertype && (this.papertype = a.papertype),\r\n      void 0 != a.timeout && (this.timeout = a.timeout),\r\n      void 0 != a.holdprint_timeout &&\r\n        (this.holdprint_timeout = a.holdprint_timeout));\r\n  },\r\n  _handlerCallback = {};\r\nfunction _onFinish(a) {\r\n  var b = _handlerCallback[a.url],\r\n    c = a.response;\r\n  _handlerCallback[a.url] = null;\r\n  if (200 == a.htmlCode)\r\n    b.onReceive({\r\n      traderSuccess: c.slice(\r\n        c.indexOf(\"&lt;success&gt;\") + 15,\r\n        c.indexOf(\"&lt;/success&gt;\")\r\n      ),\r\n      traderCode: c.slice(\r\n        c.indexOf(\"&lt;code&gt;\") + 12,\r\n        c.indexOf(\"&lt;/code&gt;\")\r\n      ),\r\n      traderStatus: c.slice(\r\n        c.indexOf(\"&lt;status&gt;\") + 14,\r\n        c.indexOf(\"&lt;/status&gt;\")\r\n      ),\r\n      status: a.htmlCode,\r\n      responseText: c,\r\n    });\r\n  else b.onError({ status: a.htmlCode, responseText: c });\r\n}\r\nStarWebPrintTrader.prototype._callMessageHandler = function () {\r\n  var a = this;\r\n  null == _handlerCallback[a._url]\r\n    ? ((_handlerCallback[a._url] = a),\r\n      webkit.messageHandlers.sendMessageHandler.postMessage(a._json))\r\n    : setTimeout(function () {\r\n        a._callMessageHandler();\r\n      }, 500);\r\n};\r\nStarWebPrintTrader.prototype.sendMessage = function (a) {\r\n  var b = \"<root\";\r\n  void 0 != a.checkedblock\r\n    ? !1 == a.checkedblock && (b += ' checkedblock=\"false\"')\r\n    : !1 == this.checkedblock && (b += ' checkedblock=\"false\"');\r\n  void 0 != a.papertype\r\n    ? \"normal\" == a.papertype\r\n      ? (b += ' papertype=\"normal\"')\r\n      : \"black_mark\" == a.papertype\r\n      ? (b += ' papertype=\"black_mark\"')\r\n      : \"black_mark_and_detect_at_power_on\" == a.papertype &&\r\n        (b += ' papertype=\"black_mark_and_detect_at_power_on\"')\r\n    : \"normal\" == this.papertype\r\n    ? (b += ' papertype=\"normal\"')\r\n    : \"black_mark\" == this.papertype\r\n    ? (b += ' papertype=\"black_mark\"')\r\n    : \"black_mark_and_detect_at_power_on\" == this.papertype &&\r\n      (b += ' papertype=\"black_mark_and_detect_at_power_on\"');\r\n  void 0 != a.holdprint_timeout\r\n    ? (b += ' holdprint_timeout=\"' + a.holdprint_timeout + '\"')\r\n    : void 0 != this.holdprint_timeout &&\r\n      (b += ' holdprint_timeout=\"' + this.holdprint_timeout + '\"');\r\n  var b = b + (\">\" + a.request + \"</root>\"),\r\n    c;\r\n  c =\r\n    '<StarWebPrint xmlns=\"http://www.star-m.jp\" xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\"><Request>';\r\n  c += this._encodeEscapeSequence(b);\r\n  c += \"</Request>\";\r\n  c += \"</StarWebPrint>\";\r\n  b = \"\";\r\n  b = void 0 != a.url ? a.url : this.url;\r\n  if (\r\n    /^https?:\\/\\/(localhost|127\\.0\\.0\\.1):8001\\//.test(b.toLowerCase()) &&\r\n    -1 != navigator.userAgent.indexOf(\"webPRNTSupportMessageHandler\")\r\n  )\r\n    (this._json = JSON.stringify({ url: b, body: c })),\r\n      (this._url = b),\r\n      this._callMessageHandler();\r\n  else {\r\n    var d = null;\r\n    if (window.XMLHttpRequest) d = new XMLHttpRequest();\r\n    else if (window.ActiveXObject) d = new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n    else {\r\n      if (this.onError)\r\n        this.onError({\r\n          status: 10001,\r\n          responseText: \"XMLHttpRequest is not supported.\",\r\n        });\r\n      return;\r\n    }\r\n    if (\r\n      -1 != navigator.userAgent.indexOf(\"iPad;\") ||\r\n      -1 != navigator.userAgent.indexOf(\"iPhone;\") ||\r\n      -1 != navigator.userAgent.indexOf(\"iPod touch;\") ||\r\n      -1 != navigator.userAgent.indexOf(\"Android\")\r\n    )\r\n      if (\r\n        -1 == navigator.userAgent.indexOf(\"WebPRNTSupportHTTPS\") &&\r\n        (0 == b.toLowerCase().indexOf(\"https://localhost\") ||\r\n          0 == b.toLowerCase().indexOf(\"https://127.0.0.1\"))\r\n      )\r\n        b = \"http://\" + b.substring(8);\r\n    try {\r\n      d.open(\"POST\", b, !0);\r\n    } catch (f) {\r\n      if (this.onError)\r\n        this.onError({ status: 10002, responseText: f.message });\r\n      return;\r\n    }\r\n    try {\r\n      void 0 != a.timeout\r\n        ? (d.timeout = a.timeout)\r\n        : this.timeout && (d.timeout = this.timeout);\r\n    } catch (h) {}\r\n    d.setRequestHeader(\"Content-Type\", \"text/xml; charset=UTF-8\");\r\n    var e = this;\r\n    d.onreadystatechange = function () {\r\n      if (4 == d.readyState)\r\n        try {\r\n          if (200 == d.status) {\r\n            var a = d.responseXML.getElementsByTagName(\"Response\");\r\n            if (0 < a.length) {\r\n              if (e.onReceive) {\r\n                var b = a[0].childNodes[0].nodeValue;\r\n                e.onReceive({\r\n                  traderSuccess: b.slice(\r\n                    b.indexOf(\"<success>\") + 9,\r\n                    b.indexOf(\"</success>\")\r\n                  ),\r\n                  traderCode: b.slice(\r\n                    b.indexOf(\"<code>\") + 6,\r\n                    b.indexOf(\"</code>\")\r\n                  ),\r\n                  traderStatus: b.slice(\r\n                    b.indexOf(\"<status>\") + 8,\r\n                    b.indexOf(\"</status>\")\r\n                  ),\r\n                  status: d.status,\r\n                  responseText: d.responseText,\r\n                });\r\n              }\r\n            } else if (e.onError)\r\n              e.onError({ status: d.status, responseText: d.responseText });\r\n          } else if (e.onError)\r\n            e.onError({ status: d.status, responseText: d.responseText });\r\n        } catch (c) {\r\n          if (e.onError)\r\n            e.onError({\r\n              status: 0,\r\n              responseText: \"Connection timeout occurred.\",\r\n            });\r\n        }\r\n    };\r\n    try {\r\n      d.ontimeout = function () {\r\n        if (e.onTimeout) e.onTimeout();\r\n      };\r\n    } catch (k) {}\r\n    try {\r\n      d.send(c);\r\n    } catch (g) {\r\n      if (this.onError)\r\n        this.onError({ status: 10003, responseText: g.message });\r\n    }\r\n  }\r\n};\r\nStarWebPrintTrader.prototype._onHandlerSuccess = function (a) {\r\n  if (trader.onReceive) trader.onReceive(a);\r\n};\r\nStarWebPrintTrader.prototype._onHandlerError = function (a) {\r\n  if (trader.onError) trader.onError(a);\r\n};\r\nStarWebPrintTrader.prototype.isCoverOpen = function (a) {\r\n  return parseInt(a.traderStatus.substr(4, 2), 16) & 32 ? !0 : !1;\r\n};\r\nStarWebPrintTrader.prototype.isOffLine = function (a) {\r\n  return parseInt(a.traderStatus.substr(4, 2), 16) & 8 ? !0 : !1;\r\n};\r\nStarWebPrintTrader.prototype.isCompulsionSwitchClose = function (a) {\r\n  return parseInt(a.traderStatus.substr(4, 2), 16) & 4 ? !0 : !1;\r\n};\r\nStarWebPrintTrader.prototype.isEtbCommandExecute = function (a) {\r\n  return parseInt(a.traderStatus.substr(4, 2), 16) & 2 ? !0 : !1;\r\n};\r\nStarWebPrintTrader.prototype.isHighTemperatureStop = function (a) {\r\n  return parseInt(a.traderStatus.substr(6, 2), 16) & 64 ? !0 : !1;\r\n};\r\nStarWebPrintTrader.prototype.isNonRecoverableError = function (a) {\r\n  return parseInt(a.traderStatus.substr(6, 2), 16) & 32 ? !0 : !1;\r\n};\r\nStarWebPrintTrader.prototype.isAutoCutterError = function (a) {\r\n  return parseInt(a.traderStatus.substr(6, 2), 16) & 8 ? !0 : !1;\r\n};\r\nStarWebPrintTrader.prototype.isBlackMarkError = function (a) {\r\n  return parseInt(a.traderStatus.substr(8, 2), 16) & 8 ? !0 : !1;\r\n};\r\nStarWebPrintTrader.prototype.isPaperEnd = function (a) {\r\n  return parseInt(a.traderStatus.substr(10, 2), 16) & 8 ? !0 : !1;\r\n};\r\nStarWebPrintTrader.prototype.isPaperNearEnd = function (a) {\r\n  return parseInt(a.traderStatus.substr(10, 2), 16) & 4 ? !0 : !1;\r\n};\r\nStarWebPrintTrader.prototype.isPaperPresent = function (a) {\r\n  return parseInt(a.traderStatus.substr(12, 2), 16) & 2 ? !0 : !1;\r\n};\r\nStarWebPrintTrader.prototype.extractionEtbCounter = function (a) {\r\n  var b = 0;\r\n  parseInt(a.traderStatus.substr(14, 2), 16) & 64 && (b |= 16);\r\n  parseInt(a.traderStatus.substr(14, 2), 16) & 32 && (b |= 8);\r\n  parseInt(a.traderStatus.substr(14, 2), 16) & 8 && (b |= 4);\r\n  parseInt(a.traderStatus.substr(14, 2), 16) & 4 && (b |= 2);\r\n  parseInt(a.traderStatus.substr(14, 2), 16) & 2 && (b |= 1);\r\n  return b;\r\n};\r\nStarWebPrintTrader.prototype._encodeEscapeSequence = function (a) {\r\n  var b = /[<>&]/g;\r\n  b.test(a) &&\r\n    (a = a.replace(b, function (a) {\r\n      switch (a) {\r\n        case \"<\":\r\n          return \"&lt;\";\r\n        case \">\":\r\n          return \"&gt;\";\r\n      }\r\n      return \"&amp;\";\r\n    }));\r\n  return a;\r\n};\r\n\r\nexport { StarWebPrintTrader };","import { BehaviorSubject } from 'rxjs';\r\nimport { PrintDriver } from \"./PrintDriver\";\r\n// @ts-ignore\r\nimport { StarWebPrintTrader } from '../js/StarWebPrintTrader.mjs';\r\n\r\nexport class WebPrintDriver extends PrintDriver {\r\n    public isConnected: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\r\n    private trader: any;\r\n    private url: string;\r\n    private useSecure: boolean = false;\r\n    public isStarPrinter: boolean = false;\r\n\r\n\r\n    constructor(url: string, useSecure: boolean = false) {\r\n        super();\r\n        this.url = url;\r\n        this.useSecure = useSecure;\r\n    }\r\n\r\n    public connect() {\r\n        const useSecure = (this.useSecure) ? 's' : '';\r\n        this.trader = new StarWebPrintTrader({ url: `http${useSecure}://${this.url}/StarWebPRNT/SendMessage` });\r\n\r\n        this.trader.onReceive = (response: any) => {\r\n            this.isConnected.next(true);\r\n        }\r\n\r\n        this.trader.onError = (response: any) => {\r\n            this.isConnected.next(false);\r\n        }\r\n        this.trader.sendMessage('');\r\n    }\r\n\r\n    public async write(data: string): Promise<void> {\r\n        this.trader.sendMessage({ request: data });\r\n    }\r\n\r\n}","/// <reference types=\"w3c-web-usb\" />\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { PrintDriver } from \"./PrintDriver\";\r\n\r\ndeclare var navigator: any;\r\n\r\nexport class UsbDriver extends PrintDriver {\r\n    private device: USBDevice | undefined;\r\n    private endPoint: USBEndpoint | undefined;\r\n    private vendorId: number | undefined;\r\n    private productId: number | undefined;\r\n    public isConnected: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\r\n\r\n    constructor(vendorId?: number, productId?: number) {\r\n        super();\r\n        this.vendorId = vendorId;\r\n        this.productId = productId;\r\n    }\r\n\r\n    public connect() {\r\n        navigator.usb.getDevices().then((devices: USBDevice[]) => {\r\n            this.device = devices.find((device: USBDevice) => {\r\n                return device.vendorId === this.vendorId && device.productId === this.productId;\r\n            });\r\n            console.log(this.device);\r\n            return this.device!.open();\r\n        })\r\n            .then(() => {\r\n                let result = this.device!.selectConfiguration(1);\r\n                return result;\r\n            })\r\n            .then(() => {\r\n                let result = this.device!.claimInterface(0);\r\n                return result;\r\n            }).then((result: void) => {\r\n                const endPoints: USBEndpoint[] | undefined = this.device!.configuration?.interfaces[0].alternate.endpoints;\r\n                this.endPoint = endPoints!.find((endPoint: any) => endPoint.direction === 'out');\r\n                this.isConnected.next(true);\r\n                this.listenForUsbConnections();\r\n            }).catch( (result:void) => {\r\n                this.isConnected.next(false);\r\n            });\r\n    }\r\n\r\n\r\n    /**\r\n     * Request a USB device through the browser\r\n     * return Observable<USBDevice>\r\n     */\r\n    public requestUsb(): Observable<USBDevice> {\r\n        return new Observable(observer => {\r\n            navigator.usb.requestDevice({ filters: [] })\r\n                .then((result: USBDevice) => {\r\n                    this.vendorId = result.vendorId;\r\n                    this.productId = result.productId;\r\n                    return observer.next(result);\r\n                }).catch((error: any) => {\r\n                    return observer.error(error);\r\n                });\r\n        });\r\n    }\r\n\r\n    public async write(data: Uint8Array): Promise<void> {\r\n        this.device!.transferOut(this.endPoint!.endpointNumber, data);\r\n    }\r\n\r\n    private listenForUsbConnections(): void {\r\n        navigator.usb.addEventListener('disconnect', () => {\r\n            this.isConnected.next(false)\r\n        });\r\n        navigator.usb.addEventListener('connect', () => {\r\n            this.isConnected.next(true);\r\n        });\r\n    }\r\n}","/// <reference types=\"web-bluetooth\" />\r\n\r\n// import { PrintDriver } from 'ng-thermal-print/lib/drivers/PrintDriver';\r\nimport { BehaviorSubject, Observable  } from 'rxjs';\r\nimport { PrintDriver } from './PrintDriver';\r\n\r\nexport class BluetoothLowEnergyDriver extends PrintDriver{\r\n    isConnected: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\r\n    serviceUUID!: string|number;\r\n    characteristicUUID!: string|number;\r\n    device!: BluetoothDevice;\r\n    characteristic!: BluetoothRemoteGATTCharacteristic;\r\n    private vendorId: number | undefined;\r\n    private productId: number | undefined;\r\n    constructor(vendorId?: number, productId?: number) {\r\n        super();\r\n        this.vendorId = vendorId;\r\n        this.productId = productId;\r\n    }\r\n    private convertStringToUUID(s: string): string|number{\r\n        s = s.toLowerCase();\r\n        if (s.includes('-')){\r\n          return s;\r\n        }else{\r\n          let ss!: any;\r\n          if (s.substring(0, 2).includes('0x')){\r\n            ss = s.substring(2);\r\n          }\r\n          else{\r\n            ss = s;\r\n          }\r\n          return parseInt(ss, 16);\r\n        }\r\n    }\r\n    requestDevice(serviceUUID: string|number, characteristicUUID: string|number): Observable<BluetoothDevice>{\r\n        if (typeof serviceUUID === 'string'){\r\n            serviceUUID = this.convertStringToUUID(serviceUUID);\r\n        }\r\n        if (typeof characteristicUUID === 'string'){\r\n            characteristicUUID = this.convertStringToUUID(characteristicUUID);\r\n        }\r\n        const serviceUUIDs: BluetoothServiceUUID[] = [serviceUUID];\r\n        const opt: RequestDeviceOptions = {optionalServices:  serviceUUIDs, acceptAllDevices: true};\r\n        this.serviceUUID = serviceUUID;\r\n        this.characteristicUUID = characteristicUUID;\r\n        return new Observable(observer => {\r\n            navigator.bluetooth.requestDevice(opt)\r\n                .then((device: BluetoothDevice) => {\r\n                    this.device = device;\r\n                    return observer.next(this.device);\r\n                })\r\n                .catch((error: any) => {\r\n                    return observer.error(error);\r\n                });\r\n        });\r\n    }\r\n    disconnect(): void{\r\n        this.removeBluetoothConnections();\r\n    }\r\n    connect(): void {\r\n        this.device.gatt?.connect()\r\n        .then((server: BluetoothRemoteGATTServer|undefined) => {\r\n            return server!.getPrimaryService(this.serviceUUID);\r\n        })\r\n        .then((service: BluetoothRemoteGATTService) => {\r\n            return service.getCharacteristic(this.characteristicUUID);\r\n        })\r\n        .then((characteristic: BluetoothRemoteGATTCharacteristic) => {\r\n            this.isConnected.next(true);\r\n            this.listenForBluetoothConnections();\r\n            this.characteristic = characteristic;\r\n        });\r\n    }\r\n    write(data: Uint8Array): void {\r\n        const array_chunks = (array: any, chunkSize: number) => {\r\n            const chunks = [];\r\n            for (let i = 0, len = array.length; i < len; i += chunkSize) {\r\n              chunks.push(array.slice(i, i + chunkSize));\r\n            }\r\n            return chunks;\r\n          };\r\n\r\n        const chunks = array_chunks(data, 20);\r\n        let index = 1;\r\n        for (const chunk of chunks) {\r\n            setTimeout(() => {\r\n\r\n              this.characteristic.writeValue(chunk);\r\n            }, 100 + index * 100);\r\n\r\n            index++;\r\n        }\r\n    }\r\n    private listenForBluetoothConnections(): void {\r\n        navigator.bluetooth.addEventListener('disconnect', () => {\r\n            this.isConnected.next(false);\r\n        });\r\n        navigator.bluetooth.addEventListener('connect', () => {\r\n            this.isConnected.next(true);\r\n        });\r\n    }\r\n    private removeBluetoothConnections(): void{\r\n        navigator.bluetooth.removeEventListener('disconnect', () => {\r\n            this.isConnected.next(false);\r\n        });\r\n        navigator.bluetooth.removeEventListener('connect', () => {\r\n            this.isConnected.next(false);\r\n        });\r\n    }\r\n}","/// <reference types=\"w3c-web-serial\" />\r\n\r\nimport { BehaviorSubject, Observable  } from 'rxjs';\r\nimport { PrintDriver } from './PrintDriver';\r\n\r\nexport class BluetoothSerialDriver extends PrintDriver{\r\n    isConnected: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\r\n    port!: SerialPort;\r\n    writer!: any;\r\n    private vendorId: number | undefined;\r\n    private productId: number | undefined;\r\n    option: SerialOptions = {\r\n        baudRate: 9600\r\n    };\r\n    constructor(vendorId?: number, productId?: number) {\r\n        super();\r\n\r\n        this.vendorId = vendorId;\r\n        this.productId = productId;\r\n    }\r\n    requestPort(): Observable<SerialPort>{\r\n        return new Observable(observer => {\r\n            navigator.serial.requestPort({ filters: [] })\r\n                .then((result: SerialPort) => {\r\n                    this.port = result;\r\n                    return observer.next(result);\r\n                })\r\n                .catch((error: any) => {\r\n                    return observer.error(error);\r\n                });\r\n        });\r\n    }\r\n    setOpenOption(option: SerialOptions): void{\r\n        this.option = {...this.option, ...option};\r\n    }\r\n    disconnect(): void{\r\n        // tslint:disable-next-line:no-non-null-assertion\r\n        this.writer!.releaseLock();\r\n        this.port.close().then(x => this.removeSerialConnections());\r\n    }\r\n    connect(): void {\r\n        navigator.serial.getPorts()\r\n            .then((ports: SerialPort[]) => {\r\n                return ports.find(x => x === this.port);\r\n            })\r\n            .then((p: SerialPort|undefined) => {\r\n                return p?.open(this.option);\r\n            })\r\n            .then(() => {\r\n                this.isConnected.next(true);\r\n                this.listenForSerialConnections();\r\n                this.writer = this.port.writable?.getWriter();\r\n            })\r\n            .catch((err: any) => {\r\n                console.log(err);\r\n                this.isConnected.next(false);\r\n            });\r\n    }\r\n    public async write(data: Uint8Array): Promise<void> {\r\n        // tslint:disable-next-line:no-non-null-assertion\r\n        await this.writer!.write(data);\r\n    }\r\n    private listenForSerialConnections(): void {\r\n        navigator.serial.addEventListener('disconnect', () => {\r\n            this.isConnected.next(false);\r\n        });\r\n        navigator.serial.addEventListener('connect', () => {\r\n            this.isConnected.next(true);\r\n        });\r\n    }\r\n    private removeSerialConnections(): void{\r\n        navigator.serial.removeEventListener('disconnect', () => {\r\n            this.isConnected.next(false);\r\n        });\r\n        navigator.serial.removeEventListener('connect', () => {\r\n            this.isConnected.next(false);\r\n        });\r\n    }\r\n}","/*\n * Public API Surface of pos-cashier-printer\n */\n\nexport * from './lib/pos-cashier-printer.service';\nexport * from './lib/pos-cashier-printer.component';\nexport * from './lib/pos-cashier-printer.module';\nexport * from './lib/drivers/index';","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["ESC","GS"],"mappings":"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"}